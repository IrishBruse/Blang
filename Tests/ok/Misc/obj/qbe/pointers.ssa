
# FunctionDecleration
export function l $main()
{
@start

    # ExternalStatement
    # VisitAutoStatement: auto a, b, c;
    %a =l alloc8 8
    storel 0, %a
    %b =l alloc8 8
    storel 0, %b
    %c =l alloc8 8
    storel 0, %c
    # VisitVariableAssignment: a = 12
    storel 12, %a
    # VisitFunctionCall: printf("a %d\n", a)
    %a_1 =l loadl %a
    call $printf(l $string_0, l %a_1)
    # VisitVariableAssignment: b = &a
    # VisitAddressOfExpression: &a
    storel %a_1, %b
    # VisitVariableAssignment: c = *b
    # VisitPointerDereferenceExpression: *b
    # Load Pointer
    %c_1 =l loadl %b
    # Dereferece Pointer
    %c_2 =l loadl %c_1
    storel %c_2, %c
    # VisitFunctionCall: printf("c %d\n", c)
    %c_3 =l loadl %c
    call $printf(l $string_1, l %c_3)

    ret 0
}

# Data
data $string_0 = { b "a %d\n", b 0 }
data $string_1 = { b "c %d\n", b 0 }

# Externs
# - printf
