export function w $main()
{
@start
    %result_0 =l alloc8 8

    # auto result = 0
    storew 0, %result_0
    %a_1 =l alloc8 8

    # auto a = 0
    storew 0, %a_1
    %b_2 =l alloc8 8

    # auto b = 0
    storew 0, %b_2
    %c_3 =l alloc8 8

    # auto c = 0
    storew 0, %c_3
    %d_4 =l alloc8 8

    # auto d = 0
    storew 0, %d_4

    # a = 5
    storew 5, %a_0

    # b = 3
    storew 3, %b_0

    # c = 2
    storew 2, %c_0

    # d = 1
    storew 1, %d_0

    # result = ((a + b) * (c - d))
    %a_5 =w loadw %a_0
    %b_6 =w loadw %b_0
    %b_7 =w add %a_5, %b_6
    %c_8 =w loadw %c_0
    %d_9 =w loadw %d_0
    %d_10 =w sub %c_8, %d_9
    %d_11 =w mul %b_7, %d_10
    storew %d_11, %result_0

    # call printf
    %result_12 =w loadw %result_0
    call $printf(l $string_0, w %result_12)
    ret 0
}


# Data
data $string_0 = { b "%d\n", b 0 }


# Externs

# - printf
